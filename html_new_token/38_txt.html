<p id=p0><span class='token pointer' id='tok-38-0' style='color:red'>Misconfigured</span><span class='token pointer' id='tok-38-1' style='color:red'>DIY</span><span class='token pointer' id='tok-38-2' style='color:red'>smart-home</span><span class='token pointer' id='tok-38-3' style='color:red'>hubs</span>for home <span class='token pointer' id='tok-38-4' style='color:red'>automation</span>could allow attackers to track owners' movements, see if <span class='token pointer' id='tok-38-5' style='color:red'>smart</span>doors and windows are opened or closed, and even open garage doors.  </p><p id=p30>Tens of thousands of <span class='token pointer' id='tok-38-6' style='color:red'>consumer-grade</span><span class='token pointer' id='tok-38-7' style='color:red'>servers</span><span class='token pointer' id='tok-38-8' style='color:red'>Internet of Things (IoT)</span>been found wide-open on the <span class='token pointer' id='tok-38-9' style='color:red'>internet,</span>allowing <span class='token pointer' id='tok-38-10' style='color:red'>cybercriminals</span>to potentially compromise <span class='token pointer' id='tok-38-11' style='color:red'>homeowners'</span>physical security. Bad actors can gain complete access to smart-home <span class='token pointer' id='tok-38-12' style='color:red'>footprints</span>to track owners' movements, see if smart doors and windows are opened or closed, and even open garage doors. </p><p id=p83>The servers in question are 49,000 <span class='token pointer' id='tok-38-13' style='color:red'>(MQTT)</span><span class='token pointer' id='tok-38-14' style='color:red'>Message Queuing Telemetry Transport</span>which are publicly visible due to misconfigured MQTT <span class='token pointer' id='tok-38-15' style='color:red'>protocol,</span>according to research released Thursday from Avast. This includes more than 32,000 servers with no <span class='token pointer' id='tok-38-16' style='color:red'>password</span>protection. </p><p id=p121>These are essentially DIY smart-home hubs set up by consumers to enable home automation and unify the control of various connected <span class='token pointer' id='tok-38-17' style='color:red'>devices,</span>like thermostats, appliances, lighting, alarm systems and <span class='token pointer' id='tok-38-18' style='color:red'>cameras,</span>and even automatic soil monitoring and garden-watering systems. MQTT is included in most automation solutions, including the open-source Home Assistant platform – and it allows a number of smart devices to be connected, controlled and automated, even if they weren't originally designed to work together. </p><p id=p196>"The MQTT protocol is used to interconnect and control smart-home devices, via smart-home hubs," explained Martin Hron, security researcher at Avast, in a posting on the issue published today. "When implementing the MQTT protocol, users set up a <span class='token pointer' id='tok-38-19' style='color:red'>server.</span>In the case of consumers, the server usually lives on a <span class='token pointer' id='tok-38-20' style='color:red'>PC</span>or some <span class='token pointer' id='tok-38-21' style='color:red'>mini-computer</span>such as <span class='token pointer' id='tok-38-22' style='color:red'>Raspberry Pi,</span>which devices can connect to and communicate with." </p><p id=p263>In terms of architecture, an MQTT server (broker) is provided with <span class='token pointer' id='tok-38-23' style='color:red'>embedded</span>security capabilities, which serves as a <span class='token pointer' id='tok-38-24' style='color:red'>messenger</span>between devices and adds intelligence to the system. According to Avast, smart home hubs usually subscribe and publish MQTT <span class='token pointer' id='tok-38-25' style='color:red'>messages</span>and provide logic. They also provide a <span class='token pointer' id='tok-38-26' style='color:red'>dashboard,</span>either locally or remotely, where users can control the home. </p><p id=p320>While the MQTT protocol itself is secure, a lack of security awareness combined with poor built-in protections can create a number of threat vectors, even when a server is partially protected. </p><p id=p351>"It is <span class='token pointer' id='tok-38-27' style='color:red'>frighteningly</span>easy to gain access and control of a person's smart home, because there are still many poorly secured protocols dating back to bygone <span class='token pointer' id='tok-38-28' style='color:red'>technology</span>eras when security was not a top concern," Hron said. "Consumers need to be aware of the security concerns of connecting devices that control intimate parts of their home to services they don't fully understand and the importance of properly configuring their devices." </p><p id=p421>A weather forecast in addition to other topics, published by an unsecured MQTT server. </p><p id=p435>Perhaps the easiest path to attack is simply finding one of the 32,000 open and unprotected MQTT servers out there, using the Shodan IoT search engine. Once connected, <span class='token pointer' id='tok-38-29' style='color:red'>hackers</span>can read messages transmitted using the MQTT protocol, such as the status of smart window and door sensors, or notices about when lights are switched on and off (which can be used to infer a person's movements). </p><p id=p501>Avast also found that outsiders could control connected devices or at least poison data using the MQTT protocol on behalf of devices. This way, for example, an attacker could send messages to the hub to, say, open the garage door or unlock a lock. </p><p id=p545>Even if an MQTT server is protected, Avast found that a smart home can be hacked if the dashboard used to control a smart home's control panel runs on the same IP address as the MQTT server itself. </p><p id=p583>Example of a publicly available dashboard of a <span class='token pointer' id='tok-38-30' style='color:red'>home-automation</span>system that allows full control of all connected appliances. </p><p id=p601>"Many users use <span class='token pointer' id='tok-38-31' style='color:red'>configurations</span><span class='token pointer' id='tok-38-32' style='color:red'>default</span>come with their smart home hub software, and these are often not password protected," Hron said. </p><p id=p623>And even if both the MQTT server and dashboard are protected, Avast found that Home Assistant, the open-source home-automation platform often used to administer smart-home footprints using MQTT, creates publicly shared <span class='token pointer' id='tok-38-33' style='color:red'>directories</span>using Windows SMB <span class='token pointer' id='tok-38-34' style='color:red'>filesharing</span>protocol; these contain all Home Assistant files, including <span class='token pointer' id='tok-38-35' style='color:red'>configuration</span>files. In the exposed files, Avast found stored <span class='token pointer' id='tok-38-36' style='color:red'>passwords</span>and keys, all in plain text, that can allow a <span class='token pointer' id='tok-38-37' style='color:red'>hacker</span>to gain complete control of a person's home. </p><p id=p696>"Home Assistant is only one of the many examples of how a combination of weak vendor default configurations and user laziness can make setup of an <span class='token pointer' id='tok-38-38' style='color:red'>IoT device</span>Hron told Threatpost. "Education is key with consumers, and with IoT devices, a lot of consumers just aren't aware that a number of devices have vulnerabilities as well, just like a PC can have them." </p><p id=p760>Also, an application called MQTT Dash allows users to create their own dashboard and control panel to control smart devices using MQTT, the research found. </p><p id=p785>"Users have the option to publish the settings they set up using the dashboard to the MQTT server, so they can easily replicate the settings on as many devices as they would like," Hron said. "If the MQTT server used is unsecure, a hacker can easily access the user's dashboard, which allows them to easily hack the smart home." </p><p id=p844>There's also a <span class='token pointer' id='tok-38-39' style='color:red'>mobile</span>aspect, since many MQTT servers are connected to a mobile application called OwnTracks. OwnTracks can be used by smart-home owners to let their connected devices know when they're getting close to home – this can be used to turn on the lights, start the air conditioner, preheat an oven and so on. But to configure the tracking feature, users have to connect to the MQTT server. </p><p id=p914>Recorded positions during the course of one week. </p><p id=p922>"During this process, users are not required to setup <span class='token pointer' id='tok-38-40' style='color:red'>login</span>credentials, meaning anyone can connect to the MQTT server," Hron explained. <span class='token pointer' id='tok-38-41' style='color:red'>"Hackers</span>can read messages that include a device's <span class='token pointer' id='tok-38-42' style='color:red'>battery</span>level, location using latitude, longitude and altitude points, and the timestamp for the position." </p><p id=p966>MQTT isn't the only smart-home platform to come under scrutiny of late; in July, researchers found 20 vulnerabilities in Samsung's SmartThings Hub, allowing attackers to control smart locks, remotely monitor the home via connected cameras and perform other alarming functions. The flaws were located in Samsung's centralized controller, a component that connects to an array of IoT devices around the house – including light bulbs, thermostats and cameras. </p><p id=p1034>In terms of mitigation, "I'd say the only proper solution is either educate users about the problem, or, which will have bigger impact, make this software so that security is opt-out — so, they would need to proactively ask you to set up credentials during installation," Hron told Threatpost — thus eliminating the default authentication problem.As for <span class='token pointer' id='tok-38-43' style='color:red'>notifications,</span>Avast has discussed the issue in a thread on the Home Assistant forum, and is contacting the maintainer of Mosquitto, a widely deployed MQTT server project, to urge it to consider making password and <span class='token pointer' id='tok-38-44' style='color:red'>username</span>an opt-out feature during setup.
 </p>