<p id=p0>Securing a <span class='token pointer' id='tok-104-0' style='color:red'>Cloud deployment</span>days many organizations have migrated at least some of their IT services to a <span class='token pointer' id='tok-104-1' style='color:red'>environment.</span><span class='token pointer' id='tok-104-2' style='color:red'>Cloud adaptation</span>be as basic as the use of <span class='token pointer' id='tok-104-3' style='color:red'>Microsoft Office 365</span>some <span class='token pointer' id='tok-104-4' style='color:red'>workstations,</span>or it could be much more comprehensive, such as the use of a fully integrated <span class='token pointer' id='tok-104-5' style='color:red'>AWS</span><span class='token pointer' id='tok-104-6' style='color:red'>Azure or Amazon</span>One of the main reasons for <span class='token pointer' id='tok-104-7' style='color:red'>cloud migration</span>the <span class='token pointer' id='tok-104-8' style='color:red'>redundancy</span><span class='token pointer' id='tok-104-9' style='color:red'>and</span>the <span class='token pointer' id='tok-104-10' style='color:red'>reliability</span>of the <span class='token pointer' id='tok-104-11' style='color:red'>platform.</span>What this means is that organizations quite often have a lot of their most important information and systems stored in the cloud, such as <span class='token pointer' id='tok-104-12' style='color:red'>e-mail</span>and <span class='token pointer' id='tok-104-13' style='color:red'>database servers.</span>this increased importance comes an increased level of risk as well, which needs to be taken into account when <span class='token pointer' id='tok-104-14' style='color:red'>allocating</span>resources to security tasks. Regular <span class='token pointer' id='tok-104-15' style='color:red'>penetration testing and vulnerability scanning</span>been a critical part of a comprehensive <span class='token pointer' id='tok-104-16' style='color:red'>security policy</span>decades now, and with the shift of critical data and systems towards the cloud, the focus of these services will also need to change. </p><p id=p168><span class='token pointer' id='tok-104-17' style='color:red'>enumerationWhen</span><span class='token pointer' id='tok-104-18' style='color:red'>Reconnaissance and</span>comes to penetration testing and vulnerability scanning, knowledge is everything. The more information an attacker has about a <span class='token pointer' id='tok-104-19' style='color:red'>targeted</span>organization, the easier and further the system can be compromised. From a defensive perspective, the more information the security administrator has about the <span class='token pointer' id='tok-104-20' style='color:red'>network;</span>the better an organization can protect and <span class='token pointer' id='tok-104-21' style='color:red'>monitor</span>it. There are many ways to gather this required information, both <span class='token pointer' id='tok-104-22' style='color:red'>(reconnaissance)</span><span class='token pointer' id='tok-104-23' style='color:red'>passively</span>actively <span class='token pointer' id='tok-104-24' style='color:red'>(enumeration).</span>The use of <span class='token pointer' id='tok-104-25' style='color:red'>standardized cloud services</span>brought some challenges and some new opportunities which both offensive and defensive parties need to keep in mind. The cloud environment is better protected, but the services are often standardized, well documented and publicly accessible. </p><p id=p281><span class='token pointer' id='tok-104-26' style='color:red'>Records</span><span class='token pointer' id='tok-104-27' style='color:red'>DNS</span>first step in (public) cloud reconnaissance is to identify whether the target is using any <span class='token pointer' id='tok-104-28' style='color:red'>cloud services</span>if so, which services they are. As covered at the <span class='token pointer' id='tok-104-29' style='color:red'>"Hacking the Cloud" talk at</span>2017, the best way to do this is to query specific </p><p id=p331><span class='token pointer' id='tok-104-30' style='color:red'>DNS MX Records</span>used to direct email to a company's e-mail servers for processing, which means they hold important information. If the records point to for instance outlook.com, the target is likely using <span class='token pointer' id='tok-104-31' style='color:red'>Office 365</span>e-mail services. Also, during the setup of an Office 365 service, Microsoft requires the creation of a <span class='token pointer' id='tok-104-32' style='color:red'>DNS TXT record</span>order to prove that the domain is indeed owned and managed by the requester. This record can be removed afterward, but this is rarely done. Many other service providers require the same type of <span class='token pointer' id='tok-104-33' style='color:red'>authentication.</span>If there is a DNS TXT record named <span class='token pointer' id='tok-104-34' style='color:red'>amazonses</span>for instance, the target is likely to use <span class='token pointer' id='tok-104-35' style='color:red'>Amazon Simple Email Service.</span>information is available as well via <span class='token pointer' id='tok-104-36' style='color:red'>SPF</span><span class='token pointer' id='tok-104-37' style='color:red'>CNAME,</span>DFS records. </p><p id=p457>There are a lot of <span class='token pointer' id='tok-104-38' style='color:red'>tools</span>available that can easily extract the required <span class='token pointer' id='tok-104-39' style='color:red'>DNS</span>information. <span class='token pointer' id='tok-104-40' style='color:red'>Nmap</span>is a widely known tool which can extract a lot of DNS information via specific <span class='token pointer' id='tok-104-41' style='color:red'>DNSEnum and DIG</span>some other tools that could be used for DNS enumeration. All of these come <span class='token pointer' id='tok-104-42' style='color:red'>pre-installed</span>with </p><p id=p512><span class='token pointer' id='tok-104-43' style='color:red'>Network and Application ScanningScanning</span><span class='token pointer' id='tok-104-44' style='color:red'>cloud perimeter</span>nothing new from a technical perspective. Traditional tools such as <span class='token pointer' id='tok-104-45' style='color:red'>NMAP</span>and <span class='token pointer' id='tok-104-46' style='color:red'>Kismet</span>will work without any issues. What is new, however, is that a <span class='token pointer' id='tok-104-47' style='color:red'>cloud target</span>located within a <span class='token pointer' id='tok-104-48' style='color:red'>shared network,</span>by the <span class='token pointer' id='tok-104-49' style='color:red'>Cloud Service Provider (CSP).</span>avoid any impact on other customers and any defensive or legal action from the <span class='token pointer' id='tok-104-50' style='color:red'>CSP,</span>always ask for written approval before starting <span class='token pointer' id='tok-104-51' style='color:red'>broad and comprehensive scans,</span>to and from a <span class='token pointer' id='tok-104-52' style='color:red'>cloud instance.</span>forms are easily accessible on the <span class='token pointer' id='tok-104-53' style='color:red'>provider's</span>support pages. </p><p id=p604><span class='token pointer' id='tok-104-54' style='color:red'>Ethical Hacking Training</span>Resources (InfoSec) </p><p id=p610><span class='token pointer' id='tok-104-55' style='color:red'>Cloud Specialized Tools Development</span>new and adapted reconnaissance, enumeration and <span class='token pointer' id='tok-104-56' style='color:red'>exploitation</span>tools, specialized in targeting public cloud providers has been limited. Because most levels of <span class='token pointer' id='tok-104-57' style='color:red'>cloud adaptions,</span><span class='token pointer' id='tok-104-58' style='color:red'>IaaS all the way up</span><span class='token pointer' id='tok-104-59' style='color:red'>SaaS,</span>look similar from the outside (where the reconnaissance originates), there has been no need for a new approach and new tools. There are a few useful cloud specific reconnaissance tools though. </p><p id=p677>For instance, <span class='token pointer' id='tok-104-60' style='color:red'>Azurite</span>is a reconnaissance and visualization tool that gives a good understanding of which <span class='token pointer' id='tok-104-61' style='color:red'>Azure</span>services are in use and how they are connected. It does need <span class='token pointer' id='tok-104-62' style='color:red'>subscription credentials,</span>understandably, its use is limited to cloud account owners and </p><p id=p723>An interesting development from the offensive side is the use of bots that search sites like <span class='token pointer' id='tok-104-63' style='color:red'>GitHub</span>for uploaded code, accidentally containing cloud account <span class='token pointer' id='tok-104-64' style='color:red'>access (API) keys.</span>impact of such a leak could be enormous to the account owner, so it is important for any organization to place <span class='token pointer' id='tok-104-65' style='color:red'>security controls</span>the use of these sites (for instance via </p><p id=p787><span class='token pointer' id='tok-104-66' style='color:red'>Vulnerability</span>scanning Finally, by far the most comprehensive, but also the noisiest method or network reconnaissance is the use of a <span class='token pointer' id='tok-104-67' style='color:red'>vulnerability scanner.</span>a scanner simply runs through a standard or <span class='token pointer' id='tok-104-68' style='color:red'>customized profile</span>passive and active scans and lists the detected vulnerabilities, sometimes combined with suggested <span class='token pointer' id='tok-104-69' style='color:red'>remediation</span>actions. Such a scanner could be placed inside the cloud instance, such as the <span class='token pointer' id='tok-104-70' style='color:red'>Qualys</span><span class='token pointer' id='tok-104-71' style='color:red'>Virtual Scanner Appliance for Amazon</span>Another option is to use the security services of <span class='token pointer' id='tok-104-72' style='color:red'>the Cloud Service Provider,</span>instance in the form of <span class='token pointer' id='tok-104-73' style='color:red'>Amazon Inspector.</span>vulnerability scan could also still be sourced from outside the network by using a fully self-managed tool or a 3rd party cloud based solution. Because of the generated noise, broad vulnerability scanning would only be a practical tool for the cloud instance owner. As with network scanning, prior written <span class='token pointer' id='tok-104-74' style='color:red'>authorization</span>from the Cloud Service Provider is required. </p><p id=p936>Conclusion: It is incredibly important for any company to know what network and security information is publicly accessible via the <span class='token pointer' id='tok-104-75' style='color:red'>internet.</span>After proactively gathering this information (like an attacker would also do), actions can be taken to limit the exposure and with that, the security risks. Regular scans of the <span class='token pointer' id='tok-104-76' style='color:red'>perimeter, analysis, and clean-up</span>DNS records, taking <span class='token pointer' id='tok-104-77' style='color:red'>obsolete</span>services and <span class='token pointer' id='tok-104-78' style='color:red'>cloud instances</span>there is much an organization could do to be proactive from a security perspective. In the end, it is critical to know what company data is out there so it can be best protected from <span class='token pointer' id='tok-104-79' style='color:red'>malicious</span>entities.
 </p>