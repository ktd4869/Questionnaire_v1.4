<p id=p0>The world of IT Security revolves around <span class='token pointer' id='tok-108-0' style='color:red'>data.</span>This data mainly consists <span class='token pointer' id='tok-108-1' style='color:red'>logs</span><span class='token pointer' id='tok-108-2' style='color:red'>of</span>are generated, collected, stored and analyzed. Considering the large amount of <span class='token pointer' id='tok-108-3' style='color:red'>security</span><span class='token pointer' id='tok-108-4' style='color:red'>data</span>can generate; this can put a huge load on storage and processing <span class='token pointer' id='tok-108-5' style='color:red'>resources.</span></p><p id=p42>In a professional production environment, this should be well organised, and there should be enough resources to allow for a reliable and well-performing setup. </p><p id=p66>A Security Professional or Security Trainee, however, will need to test and practice data analysis and manipulation within a much smaller environment, with a considerably lower budget and with less internal and external support. </p><p id=p100>VirtualizationsTo keep the expenses low and the <span class='token pointer' id='tok-108-6' style='color:red'>configuration</span>flexibility high, it is recommended to utilize as much <span class='token pointer' id='tok-108-7' style='color:red'>virtualized</span><span class='token pointer' id='tok-108-8' style='color:red'>"hardware"</span>as possible. VMWare ESX(i) is a very good candidate for a test lab. After registering for a <span class='token pointer' id='tok-108-9' style='color:red'>Hypervisor</span><span class='token pointer' id='tok-108-10' style='color:red'>free license, this</span>be installed on relatively inexpensive hardware (mind the supported <span class='token pointer' id='tok-108-11' style='color:red'>CPU requirements though).</span>top of this Hypervisor, many different <span class='token pointer' id='tok-108-12' style='color:red'>virtual</span><span class='token pointer' id='tok-108-13' style='color:red'>hosts</span>can be installed and linked together via <span class='token pointer' id='tok-108-14' style='color:red'>networks</span><span class='token pointer' id='tok-108-15' style='color:red'>virtual</span>to <span class='token pointer' id='tok-108-16' style='color:red'>virtual switches.</span>includes, for instance, <span class='token pointer' id='tok-108-17' style='color:red'>Linux</span>and <span class='token pointer' id='tok-108-18' style='color:red'>Unix</span>based <span class='token pointer' id='tok-108-19' style='color:red'>proxy</span><span class='token pointer' id='tok-108-20' style='color:red'>servers,</span><span class='token pointer' id='tok-108-21' style='color:red'>IDS</span>and <span class='token pointer' id='tok-108-22' style='color:red'>Firewall</span>appliances and <span class='token pointer' id='tok-108-23' style='color:red'>Splunk</span>and <span class='token pointer' id='tok-108-24' style='color:red'>Syslog</span><span class='token pointer' id='tok-108-25' style='color:red'>Servers.</span></p><p id=p194>Another option is to use a <span class='token pointer' id='tok-108-26' style='color:red'>hosted</span><span class='token pointer' id='tok-108-27' style='color:red'>hypervisor</span>such as <span class='token pointer' id='tok-108-28' style='color:red'>VMWare Workstation, Windows Virtual PC</span>Virtual Box. This will add some complexity to the <span class='token pointer' id='tok-108-29' style='color:red'>network</span>setup, however, and it can even limit the configuration options. It is much harder, for instance, to run two isolated networks through a <span class='token pointer' id='tok-108-30' style='color:red'>single</span><span class='token pointer' id='tok-108-31' style='color:red'>host,</span>such as in the case of a transparent proxy <span class='token pointer' id='tok-108-32' style='color:red'>server</span>which will be discussed now. </p><p id=p260>Proxy There are many free and open <span class='token pointer' id='tok-108-33' style='color:red'>source</span>proxy servers available. <span class='token pointer' id='tok-108-34' style='color:red'>PfSense (based on FreeBSD) seems</span>be the easiest to manage, and it has many advanced features built-in, such as <span class='token pointer' id='tok-108-35' style='color:red'>Squid Proxy, SSL Inspection, Antivirus</span>VPN. Remote Syslog is simply a selectable option for the firewall logs, but to export the proxy logs as well, the following line needs to be added to the Custom Options field within the "proxy server" settings: access_log <span class='token pointer' id='tok-108-36' style='color:red'>syslog:LOG_LOCAL4 (followed</span>a restart). For SSL Inspection, which can <span class='token pointer' id='tok-108-37' style='color:red'>Squid 3 Proxy package</span>to be installed via the <span class='token pointer' id='tok-108-38' style='color:red'>webUI.</span></p><p id=p361>Some other examples of (Linux based) open source proxy servers are ClearOS and CacheGuard. These are more complex to fine-tune, and their interface is less intuitive, but they too will do their job as a virtual proxy server. </p><p id=p399>Snort <span class='token pointer' id='tok-108-39' style='color:red'>IDS/IPSSnort</span>is a free, open source Intrusion Prevention and Intrusion Detection System. It runs on Linux with low overhead, and this makes it a great candidate for a virtual TestLab IDS / IPS solution. The installation and configuration of Snort is relatively easy, and the rules are freely available a few weeks after their release by major vendors. Logs are exported to an external logging host via Remote Syslog (rsyslog). </p><p id=p470><span class='token pointer' id='tok-108-40' style='color:red'>Splunk A</span>starting point for centralized logging and analysis is Splunk Light. This product is free after registration, and it can be easily installed on, for instance, an <span class='token pointer' id='tok-108-41' style='color:red'>Ubuntu</span>Server. Considering the host itself is virtualized, this entire server comes at no cost. Another option available is Splunk Enterprise Free. This starts off as a 60-day trial allowing up to 500 MB of data to be indexed per day, but it will provide the option to change to a perpetual Free license after those 60 days. </p><p id=p557>A Splunk Universal Forwarder is needed to collect the external and internal logs. This forwarder can be installed on the same host as the Splunk Light Search Head (the Web UI) or on a separate host. Configuration and customization of the data feeds and the listening ports of the Splunk Universal Forwarders can all be done via the Splunk Management Web Interface. Most Proxy servers such as PfSense mentioned earlier will send their logs via Remote Syslog (RSyslog). Once configured, the Splunk Universal Forwarder will listen to this Remote Syslog data coming in; it will process it according to a customized format, and it will then forward those into a selected Splunk index. </p><p id=p670><span class='token pointer' id='tok-108-42' style='color:red'>SIEM</span>– Security Information and Event Management A simple SIEM solution is almost essential to make it possible to sift through all the large amounts of logs this lab will be able to process if you take into account, for instance, proxy, <span class='token pointer' id='tok-108-43' style='color:red'>router,</span>server and internal <span class='token pointer' id='tok-108-44' style='color:red'>database</span>events. An SIEM solution can perform correlation and automatically take actions after a detection, based on pre-defined rules or use cases. Professional SIEM solutions such an IBM QRadar, HP ArcSight and McAfee ESM, can be very expensive, and the overhead of these systems can be too much for a small lab environment. Some no-cost open source options are available, however. AlienVault OSSIM is an example of a freely available open source SIEM solution. This can be <span class='token pointer' id='tok-108-45' style='color:red'>downloaded</span>and installed as a (single) virtual machine to assist with the event analysis. </p><p id=p807><span class='token pointer' id='tok-108-46' style='color:red'>Hadoop</span><span class='token pointer' id='tok-108-47' style='color:red'>Data</span>mining and Data science is a hot topic at the moment. For anyone who wants to delve deeper into this subject, there is the option to run up a Hadoop test server as well. Normally Hadoop runs in a <span class='token pointer' id='tok-108-48' style='color:red'>cluster</span>configuration, but this can be reduced to a single <span class='token pointer' id='tok-108-49' style='color:red'>node</span><span class='token pointer' id='tok-108-50' style='color:red'>pseudo</span>cluster as well. This single server will then both contain the data node and the name node. To be able to interchange the data between the Splunk server and the Hadoop server, Hadoop Connect can be downloaded and installed. This requires Splunk Enterprise Free to be installed and will not work on Splunk Light due to the requirement of App support within Splunk. Installation manuals and videos are available on the Splunk site. </p><p id=p933>Ethical Hacking Training – Resources (InfoSec) </p><p id=p939>Finally As mentioned at the beginning of this article, in the end, security is all about data. Once this <span class='token pointer' id='tok-108-51' style='color:red'>Testlab has</span>setup, data needs to be generated. This requires some activity within the virtual network. That activity could be a matter of running the home <span class='token pointer' id='tok-108-52' style='color:red'>LAN</span>through the Proxy server, setting up a Honeypot on the perimeter or running simulated attacks within the network. Because of the use of virtual components, the Testlab will be flexible enough to adapt to the required scenarios. </p><p id=p1023>   </p>