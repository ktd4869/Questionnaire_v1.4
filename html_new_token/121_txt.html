<p id=p0><span id='tok'>This</span><span id='tok'>post</span><span id='tok'>is</span><span id='tok'>a</span><span id='tok'>part</span><span id='tok'>of</span><span id='tok'>an</span><span id='tok'>ongoing</span><span id='tok'>series</span><span id='tok'>comparing</span><span id='tok'>the</span><span id='tok'>performance</span><span id='tok'>of</span><span class='token pointer' id='tok-121-0' style='color:red'>Cloudflare</span><span id='tok'>Workers</span><span id='tok'>with</span><span id='tok'>other</span><span id='tok'>Serverless</span><span id='tok'>providers.</span><span id='tok'>In</span><span id='tok'>our</span><span id='tok'>past</span><span id='tok'>tests</span><span id='tok'>we</span><span id='tok'>intentionally</span><span id='tok'>chose</span><span id='tok'>a</span><span id='tok'>workload</span><span id='tok'>which</span><span id='tok'>imposes</span><span id='tok'>virtually</span><span id='tok'>no</span><span class='token pointer' id='tok-121-1' style='color:red'>CPU load</span><span id='tok'>the</span><span id='tok'>current</span><span id='tok'>time).</span><span id='tok'>For</span><span id='tok'>these</span><span id='tok'>tests,</span><span id='tok'>let's</span><span id='tok'>look</span><span id='tok'>at</span><span id='tok'>something</span><span id='tok'>which</span><span id='tok'>pushes</span><span id='tok'>hardware</span><span id='tok'>to</span><span id='tok'>the</span><span id='tok'>limit:</span><span class='token pointer' id='tok-121-2' style='color:red'>cryptography.</span></p><p id=p52><span id='tok'>Cloudflare</span><span id='tok'>Workers</span><span id='tok'>are</span><span id='tok'>seven</span><span id='tok'>times</span><span id='tok'>faster</span><span id='tok'>than</span><span id='tok'>a</span><span id='tok'>default</span><span class='token pointer' id='tok-121-3' style='color:red'>Lambda function</span><span id='tok'>workloads</span><span id='tok'>which</span><span id='tok'>push</span><span id='tok'>the</span><span class='token pointer' id='tok-121-4' style='color:red'>CPU.</span><span id='tok'>Workers</span><span id='tok'>are</span><span id='tok'>six</span><span id='tok'>times</span><span id='tok'>faster</span><span id='tok'>than</span><span class='token pointer' id='tok-121-5' style='color:red'>Lambda@Edge,</span><span id='tok'>tested</span><span id='tok'>globally.</span><span id='tok'>Â </span></p><p id=p79><span id='tok'>Slow</span><span id='tok'>CryptoThe</span><span class='token pointer' id='tok-121-6' style='color:red'>PBKDF2</span><span class='token pointer' id='tok-121-7' style='color:red'>algorithm</span><span id='tok'>is</span><span id='tok'>designed</span><span id='tok'>to</span><span id='tok'>be</span><span id='tok'>slow</span><span id='tok'>to</span><span class='token pointer' id='tok-121-8' style='color:red'>compute.</span><span id='tok'>It's</span><span id='tok'>used</span><span id='tok'>to</span><span id='tok'>hash</span><span id='tok'>passwords;</span><span id='tok'>its</span><span id='tok'>slowness</span><span id='tok'>makes</span><span id='tok'>it</span><span id='tok'>harder</span><span id='tok'>for</span><span id='tok'>a</span><span id='tok'>password</span><span id='tok'>cracker</span><span id='tok'>to</span><span id='tok'>do</span><span id='tok'>their</span><span id='tok'>job.</span><span id='tok'>Its</span><span id='tok'>extreme</span><span id='tok'>CPU</span><span id='tok'>usage</span><span id='tok'>also</span><span id='tok'>makes</span><span id='tok'>it</span><span id='tok'>a</span><span id='tok'>good</span><span id='tok'>benchmark</span><span id='tok'>for</span><span id='tok'>the</span><span id='tok'>CPU</span><span id='tok'>performance</span><span id='tok'>of</span><span id='tok'>a</span><span id='tok'>service</span><span id='tok'>like</span><span class='token pointer' id='tok-121-9' style='color:red'>Lambda</span><span id='tok'>or</span><span id='tok'>Cloudflare</span><span id='tok'>Workers.</span></p><p id=p130><span id='tok'>We've</span><span id='tok'>written</span><span id='tok'>a</span><span id='tok'>test</span><span id='tok'>based</span><span id='tok'>on</span><span id='tok'>the</span><span class='token pointer' id='tok-121-10' style='color:red'>Node Crypto (Lambda)</span><span id='tok'>the</span><span class='token pointer' id='tok-121-11' style='color:red'>APIs.</span><span class='token pointer' id='tok-121-12' style='color:red'>WebCrypto (Workers)</span><span id='tok'>Lambda</span><span id='tok'>is</span><span id='tok'>deployed</span><span id='tok'>to</span><span id='tok'>with</span><span id='tok'>the</span><span id='tok'>default</span><span class='token pointer' id='tok-121-13' style='color:red'>128MB</span><span id='tok'>of</span><span class='token pointer' id='tok-121-14' style='color:red'>memory</span><span id='tok'>behind</span><span id='tok'>an</span><span class='token pointer' id='tok-121-15' style='color:red'>API</span><span id='tok'>Gateway</span><span id='tok'>in</span><span id='tok'>us-east-1,</span><span id='tok'>our</span><span id='tok'>Worker</span><span id='tok'>is,</span><span id='tok'>as</span><span id='tok'>always,</span><span id='tok'>deployed</span><span id='tok'>around</span><span id='tok'>the</span><span id='tok'>world.</span><span id='tok'>I</span><span id='tok'>also</span><span id='tok'>have</span><span id='tok'>our</span><span id='tok'>function</span><span id='tok'>running</span><span id='tok'>in</span><span id='tok'>a</span><span id='tok'>Lambda@Edge</span><span class='token pointer' id='tok-121-16' style='color:red'>deployment</span><span id='tok'>to</span><span id='tok'>compare</span><span id='tok'>that</span><span id='tok'>performance</span><span id='tok'>as</span><span id='tok'>well.</span><span id='tok'>Again,</span><span id='tok'>we're</span><span id='tok'>using</span><span class='token pointer' id='tok-121-17' style='color:red'>Catchpoint</span><span id='tok'>to</span><span id='tok'>test</span><span id='tok'>from</span><span id='tok'>hundreds</span><span id='tok'>of</span><span id='tok'>locations</span><span id='tok'>around</span><span id='tok'>the</span><span id='tok'>world.</span></p><p id=p200><span id='tok'>The</span><span id='tok'>95th</span><span class='token pointer' id='tok-121-18' style='color:red'>percentile</span><span id='tok'>speed</span><span id='tok'>of</span><span id='tok'>Workers</span><span id='tok'>is</span><span class='token pointer' id='tok-121-19' style='color:red'>242ms.</span><span id='tok'>Lambda@Edge</span><span id='tok'>is</span><span class='token pointer' id='tok-121-20' style='color:red'>842ms</span><span id='tok'>(2.4x</span><span id='tok'>slower),</span><span id='tok'>Lambda</span><span class='token pointer' id='tok-121-21' style='color:red'>1346ms</span><span id='tok'>(4.6x</span><span id='tok'>slower).</span></p><p id=p217><span id='tok'>Lambdas</span><span id='tok'>are</span><span id='tok'>billed</span><span id='tok'>based</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>amount</span><span id='tok'>of</span><span id='tok'>memory</span><span id='tok'>they</span><span id='tok'>allocate</span><span id='tok'>and</span><span id='tok'>the</span><span id='tok'>number</span><span id='tok'>of</span><span id='tok'>CPU</span><span id='tok'>ms</span><span id='tok'>they</span><span id='tok'>consume,</span><span id='tok'>rounded</span><span id='tok'>up</span><span id='tok'>to</span><span id='tok'>the</span><span id='tok'>nearest</span><span id='tok'>hundred</span><span id='tok'>ms.</span><span id='tok'>Running</span><span id='tok'>a</span><span id='tok'>function</span><span id='tok'>which</span><span id='tok'>consumes</span><span class='token pointer' id='tok-121-22' style='color:red'>800ms</span><span id='tok'>of</span><span id='tok'>compute</span><span id='tok'>will</span><span id='tok'>cost</span><span id='tok'>me</span><span id='tok'>$1.86</span><span id='tok'>per</span><span id='tok'>million</span><span id='tok'>requests.</span><span id='tok'>Workers</span><span id='tok'>is</span><span id='tok'>$0.50/million</span><span id='tok'>flat.</span><span id='tok'>Obviously</span><span id='tok'>even</span><span id='tok'>beyond</span><span id='tok'>the</span><span id='tok'>cost,</span><span id='tok'>my</span><span id='tok'>users</span><span id='tok'>would</span><span id='tok'>have</span><span id='tok'>a</span><span id='tok'>pretty</span><span id='tok'>terrible</span><span id='tok'>experience</span><span id='tok'>waiting</span><span id='tok'>over</span><span id='tok'>a</span><span id='tok'>second</span><span id='tok'>for</span><span id='tok'>responses.</span></p><p id=p281><span id='tok'>As</span><span id='tok'>I</span><span id='tok'>said,</span><span id='tok'>Workers</span><span id='tok'>run</span><span id='tok'>in</span><span id='tok'>almost</span><span id='tok'>160</span><span id='tok'>locations</span><span id='tok'>around</span><span id='tok'>the</span><span id='tok'>world</span><span id='tok'>while</span><span id='tok'>my</span><span id='tok'>Lambda</span><span id='tok'>is</span><span id='tok'>only</span><span id='tok'>running</span><span id='tok'>in</span><span id='tok'>Northern</span><span id='tok'>Virgina.</span><span id='tok'>This</span><span id='tok'>is</span><span id='tok'>something</span><span id='tok'>of</span><span id='tok'>an</span><span id='tok'>unfair</span><span id='tok'>comparison,</span><span id='tok'>so</span><span id='tok'>let's</span><span id='tok'>look</span><span id='tok'>at</span><span id='tok'>just</span><span id='tok'>tests</span><span id='tok'>in</span><span id='tok'>Washington</span><span id='tok'>DC:</span></p><p id=p318><span id='tok'>Unsurprisingly</span><span id='tok'>the</span><span id='tok'>Lambda</span><span id='tok'>and</span><span id='tok'>Lambda@Edge</span><span id='tok'>performance</span><span id='tok'>evens</span><span id='tok'>out</span><span id='tok'>to</span><span id='tok'>show</span><span id='tok'>us</span><span id='tok'>exactly</span><span id='tok'>what</span><span id='tok'>speed</span><span id='tok'>Amazon</span><span id='tok'>throttles</span><span id='tok'>our</span><span id='tok'>CPU</span><span id='tok'>to.</span><span id='tok'>At</span><span id='tok'>the</span><span id='tok'>50th</span><span id='tok'>percentile,</span><span id='tok'>Lambda</span><span id='tok'>processors</span><span id='tok'>appear</span><span id='tok'>to</span><span id='tok'>be</span><span id='tok'>6-7x</span><span id='tok'>slower</span><span id='tok'>than</span><span id='tok'>the</span><span id='tok'>mid-range</span><span class='token pointer' id='tok-121-23' style='color:red'>server cores</span><span id='tok'>our</span><span class='token pointer' id='tok-121-24' style='color:red'>data centers.</span></p><p id=p358><span id='tok'>MemoryWhat</span><span id='tok'>you</span><span id='tok'>might</span><span id='tok'>not</span><span id='tok'>realize</span><span id='tok'>is</span><span id='tok'>that</span><span id='tok'>the</span><span id='tok'>power</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>CPU</span><span id='tok'>your</span><span id='tok'>Lambda</span><span id='tok'>gets</span><span id='tok'>is</span><span id='tok'>a</span><span id='tok'>function</span><span id='tok'>of</span><span id='tok'>how</span><span id='tok'>much</span><span id='tok'>memory</span><span id='tok'>you</span><span id='tok'>allocate</span><span id='tok'>for</span><span id='tok'>it.</span><span id='tok'>As</span><span id='tok'>you</span><span id='tok'>ramp</span><span id='tok'>up</span><span id='tok'>the</span><span id='tok'>memory</span><span id='tok'>you</span><span id='tok'>get</span><span id='tok'>more</span><span id='tok'>performance.</span><span id='tok'>To</span><span id='tok'>test</span><span id='tok'>this</span><span id='tok'>we</span><span id='tok'>allocated</span><span id='tok'>a</span><span id='tok'>function</span><span id='tok'>with</span><span class='token pointer' id='tok-121-25' style='color:red'>1024MB</span><span id='tok'>of</span><span id='tok'>memory:</span></p><p id=p405><span id='tok'>Again</span><span id='tok'>this</span><span id='tok'>are</span><span id='tok'>only</span><span id='tok'>tests</span><span id='tok'>emanating</span><span id='tok'>from</span><span id='tok'>Washington</span><span id='tok'>DC,</span><span id='tok'>and</span><span id='tok'>I</span><span id='tok'>have</span><span id='tok'>filtered</span><span id='tok'>points</span><span id='tok'>over</span><span id='tok'>500ms.</span></p><p id=p421><span id='tok'>The</span><span id='tok'>performance</span><span id='tok'>of</span><span id='tok'>both</span><span id='tok'>the</span><span id='tok'>Lambda</span><span id='tok'>and</span><span id='tok'>Lambda@Edge</span><span id='tok'>tests</span><span id='tok'>with</span><span id='tok'>1024MB</span><span id='tok'>of</span><span id='tok'>memory</span><span id='tok'>is</span><span id='tok'>now</span><span id='tok'>much</span><span id='tok'>closer,</span><span id='tok'>but</span><span id='tok'>remains</span><span id='tok'>roughly</span><span id='tok'>half</span><span id='tok'>that</span><span id='tok'>of</span><span id='tok'>Workers.</span><span id='tok'>Even</span><span id='tok'>worse,</span><span id='tok'>running</span><span id='tok'>my</span><span id='tok'>new</span><span id='tok'>Lambda</span><span id='tok'>through</span><span id='tok'>the</span><span id='tok'>somewhat</span><span class='token pointer' id='tok-121-26' style='color:red'>byzantine pricing formula</span><span id='tok'>that</span><span id='tok'>100ms</span><span id='tok'>(the</span><span id='tok'>minimum)</span><span id='tok'>of</span><span id='tok'>my</span><span id='tok'>1024MB</span><span id='tok'>Lambda</span><span id='tok'>will</span><span id='tok'>cost</span><span id='tok'>me</span><span id='tok'>the</span><span id='tok'>exact</span><span id='tok'>same</span><span id='tok'>$1.86</span><span id='tok'>I</span><span id='tok'>was</span><span id='tok'>paying</span><span id='tok'>before.</span><span id='tok'>This</span><span id='tok'>makes</span><span id='tok'>Lambda</span><span id='tok'>3.7x</span><span id='tok'>more</span><span id='tok'>expensive</span><span id='tok'>than</span><span id='tok'>Workers</span><span id='tok'>on</span><span id='tok'>a</span><span id='tok'>per-cycle</span><span id='tok'>basis.</span></p><p id=p489><span id='tok'>Adding</span><span id='tok'>more</span><span id='tok'>memory</span><span id='tok'>than</span><span id='tok'>that</span><span id='tok'>only</span><span id='tok'>adds</span><span id='tok'>cost,</span><span id='tok'>not</span><span id='tok'>speed.</span><span id='tok'>Here</span><span id='tok'>is</span><span id='tok'>a</span><span id='tok'>3008MB</span><span id='tok'>instance</span><span id='tok'>(the</span><span id='tok'>max</span><span id='tok'>I</span><span id='tok'>can</span><span id='tok'>allocate):</span></p><p id=p509><span id='tok'>This</span><span id='tok'>Lambda</span><span id='tok'>would</span><span id='tok'>be</span><span id='tok'>costing</span><span id='tok'>me</span><span id='tok'>$5.09</span><span id='tok'>per</span><span id='tok'>million</span><span id='tok'>requests,</span><span id='tok'>over</span><span id='tok'>10x</span><span id='tok'>more</span><span id='tok'>than</span><span id='tok'>a</span><span id='tok'>Worker,</span><span id='tok'>but</span><span id='tok'>would</span><span id='tok'>still</span><span id='tok'>provide</span><span id='tok'>less</span><span id='tok'>CPU.</span></p><p id=p531><span id='tok'>In</span><span id='tok'>general</span><span id='tok'>our</span><span id='tok'>supposition</span><span id='tok'>is</span><span id='tok'>a</span><span id='tok'>128MB</span><span id='tok'>Lambda</span><span id='tok'>is</span><span id='tok'>buying</span><span id='tok'>you</span><span id='tok'>1/8th</span><span id='tok'>of</span><span id='tok'>a</span><span id='tok'>CPU</span><span id='tok'>core.</span><span id='tok'>This</span><span id='tok'>scales</span><span id='tok'>up</span><span id='tok'>as</span><span id='tok'>you</span><span id='tok'>elect</span><span id='tok'>to</span><span id='tok'>purchase</span><span class='token pointer' id='tok-121-27' style='color:red'>Lambda's</span><span id='tok'>with</span><span id='tok'>more</span><span id='tok'>memory,</span><span id='tok'>until</span><span id='tok'>it</span><span id='tok'>hits</span><span id='tok'>the</span><span id='tok'>performance</span><span id='tok'>of</span><span id='tok'>one</span><span id='tok'>of</span><span id='tok'>their</span><span id='tok'>cores</span><span id='tok'>(minus</span><span class='token pointer' id='tok-121-28' style='color:red'>hypervisor overhead)</span><span id='tok'>which</span><span id='tok'>point</span><span id='tok'>it</span><span id='tok'>levels</span><span id='tok'>off.</span></p><p id=p578><span id='tok'>Ultimately</span><span id='tok'>Amazon</span><span id='tok'>is</span><span id='tok'>charging</span><span id='tok'>based</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>duration</span><span id='tok'>of</span><span id='tok'>execution,</span><span id='tok'>but</span><span id='tok'>on</span><span id='tok'>top</span><span id='tok'>of</span><span id='tok'>a</span><span id='tok'>much</span><span id='tok'>slower</span><span id='tok'>execution</span><span id='tok'>platform</span><span id='tok'>than</span><span id='tok'>we</span><span id='tok'>expected.</span></p><p id=p600><span id='tok'>Native</span><span class='token pointer' id='tok-121-29' style='color:red'>CodeOne</span><span id='tok'>response</span><span id='tok'>we</span><span id='tok'>saw</span><span id='tok'>to</span><span id='tok'>our</span><span id='tok'>last</span><span id='tok'>post</span><span id='tok'>was</span><span id='tok'>that</span><span id='tok'>Lambda</span><span id='tok'>supports</span><span id='tok'>running</span><span id='tok'>native</span><span class='token pointer' id='tok-121-30' style='color:red'>binaries</span><span id='tok'>and</span><span id='tok'>that's</span><span id='tok'>where</span><span id='tok'>its</span><span id='tok'>real</span><span id='tok'>performance</span><span id='tok'>will</span><span id='tok'>be</span><span id='tok'>exhibited.</span></p><p id=p625><span id='tok'>It</span><span id='tok'>is</span><span id='tok'>of</span><span id='tok'>course</span><span id='tok'>true</span><span id='tok'>that</span><span id='tok'>our</span><span class='token pointer' id='tok-121-31' style='color:red'>Javascript</span><span id='tok'>tests</span><span id='tok'>are</span><span id='tok'>likely</span><span id='tok'>(definitely</span><span id='tok'>in</span><span id='tok'>the</span><span id='tok'>case</span><span id='tok'>of</span><span id='tok'>Workers)</span><span id='tok'>just</span><span id='tok'>calling</span><span id='tok'>out</span><span id='tok'>to</span><span id='tok'>an</span><span id='tok'>underlying</span><span id='tok'>compiled</span><span id='tok'>cryptography</span><span id='tok'>implementation.</span><span id='tok'>But</span><span id='tok'>I</span><span id='tok'>don't</span><span id='tok'>know</span><span id='tok'>the</span><span id='tok'>details</span><span id='tok'>of</span><span id='tok'>how</span><span id='tok'>Lambda</span><span id='tok'>is</span><span id='tok'>implemented,</span><span id='tok'>perhaps</span><span id='tok'>the</span><span id='tok'>critics</span><span id='tok'>have</span><span id='tok'>a</span><span id='tok'>point</span><span id='tok'>that</span><span id='tok'>native</span><span id='tok'>binaries</span><span id='tok'>could</span><span id='tok'>be</span><span id='tok'>faster.</span><span id='tok'>So</span><span id='tok'>I</span><span id='tok'>decided</span><span id='tok'>to</span><span id='tok'>extend</span><span id='tok'>my</span><span id='tok'>tests.</span></p><p id=p681><span id='tok'>After</span><span id='tok'>beseeching</span><span id='tok'>a</span><span id='tok'>couple</span><span id='tok'>of</span><span id='tok'>my</span><span id='tok'>colleagues</span><span id='tok'>who</span><span id='tok'>have</span><span id='tok'>more</span><span id='tok'>recent</span><span class='token pointer' id='tok-121-32' style='color:red'>C++</span><span id='tok'>experience</span><span id='tok'>than</span><span id='tok'>I</span><span id='tok'>do,</span><span id='tok'>I</span><span id='tok'>ended</span><span id='tok'>up</span><span id='tok'>with</span><span id='tok'>a</span><span id='tok'>Lambda</span><span id='tok'>which</span><span id='tok'>executes</span><span id='tok'>the</span><span class='token pointer' id='tok-121-33' style='color:red'>BoringSSL implementation</span><span id='tok'>PBKDF2</span><span id='tok'>in</span><span id='tok'>plain</span><span class='token pointer' id='tok-121-34' style='color:red'>C++14.</span><span id='tok'>The</span><span id='tok'>results</span><span id='tok'>are</span><span id='tok'>utterly</span><span id='tok'>boring:</span></p><p id=p718><span id='tok'>A</span><span id='tok'>Lambda</span><span id='tok'>executing</span><span id='tok'>native</span><span id='tok'>code</span><span id='tok'>is</span><span id='tok'>just</span><span id='tok'>as</span><span id='tok'>slow</span><span id='tok'>as</span><span id='tok'>one</span><span id='tok'>executing</span><span id='tok'>Javascript.</span></p><p id=p731><span class='token pointer' id='tok-121-35' style='color:red'>JavaAs</span><span id='tok'>I</span><span id='tok'>mentioned,</span><span id='tok'>irrespective</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>language,</span><span id='tok'>all</span><span id='tok'>of</span><span id='tok'>this</span><span id='tok'>cryptography</span><span id='tok'>is</span><span id='tok'>likely</span><span id='tok'>calling</span><span id='tok'>the</span><span id='tok'>same</span><span id='tok'>highly</span><span id='tok'>optimized</span><span id='tok'>C</span><span id='tok'>implementations.</span><span id='tok'>In</span><span id='tok'>that</span><span id='tok'>way</span><span id='tok'>it</span><span id='tok'>might</span><span id='tok'>not</span><span id='tok'>be</span><span id='tok'>an</span><span id='tok'>accurate</span><span id='tok'>reflection</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>performance</span><span id='tok'>of</span><span id='tok'>our</span><span id='tok'>chosen</span><span class='token pointer' id='tok-121-36' style='color:red'>programming languages</span><span id='tok'>is</span><span id='tok'>an</span><span id='tok'>accurate</span><span id='tok'>reflection</span><span id='tok'>of</span><span id='tok'>CPU</span><span id='tok'>performance).</span><span id='tok'>Many</span><span id='tok'>people</span><span id='tok'>still</span><span id='tok'>believe</span><span id='tok'>that</span><span id='tok'>code</span><span id='tok'>written</span><span id='tok'>in</span><span id='tok'>languages</span><span id='tok'>like</span><span class='token pointer' id='tok-121-37' style='color:red'>Java</span><span id='tok'>is</span><span id='tok'>faster</span><span id='tok'>than</span><span id='tok'>Javascript</span><span id='tok'>in</span><span id='tok'>V8.</span><span id='tok'>I</span><span id='tok'>decided</span><span id='tok'>to</span><span id='tok'>disprove</span><span id='tok'>that</span><span id='tok'>as</span><span id='tok'>well,</span><span id='tok'>and</span><span id='tok'>I</span><span id='tok'>was</span><span id='tok'>willing</span><span id='tok'>to</span><span id='tok'>sacrifice</span><span id='tok'>to</span><span id='tok'>the</span><span id='tok'>point</span><span id='tok'>where</span><span id='tok'>I</span><span id='tok'>installed</span><span id='tok'>the</span><span class='token pointer' id='tok-121-38' style='color:red'>JDK,</span><span id='tok'>and</span><span class='token pointer' id='tok-121-39' style='color:red'>resigned myself to a lifetime</span><span id='tok'>update</span><span id='tok'>notifications.</span></p><p id=p824><span id='tok'>To</span><span id='tok'>test</span><span class='token pointer' id='tok-121-40' style='color:red'>application-level</span><span id='tok'>performance</span><span id='tok'>I</span><span id='tok'>dusted</span><span id='tok'>off</span><span id='tok'>my</span><span id='tok'>interview</span><span id='tok'>chops</span><span id='tok'>and</span><span id='tok'>wrote</span><span id='tok'>a</span><span class='token pointer' id='tok-121-41' style='color:red'>prime factorization function</span><span id='tok'>both</span><span id='tok'>Javascript</span><span id='tok'>and</span><span id='tok'>Java.</span><span id='tok'>I</span><span id='tok'>won't</span><span id='tok'>weigh</span><span id='tok'>in</span><span id='tok'>on</span><span id='tok'>the</span><span id='tok'>wisdom</span><span id='tok'>of</span><span id='tok'>using</span><span id='tok'>new</span><span id='tok'>vs</span><span class='token pointer' id='tok-121-42' style='color:red'>old guard languages,</span><span id='tok'>I</span><span id='tok'>will</span><span id='tok'>say</span><span id='tok'>it</span><span id='tok'>doesn't</span><span id='tok'>buy</span><span id='tok'>you</span><span id='tok'>much</span><span id='tok'>with</span><span id='tok'>Lambda:</span></p><p id=p871><span id='tok'>This</span><span id='tok'>is</span><span id='tok'>charting</span><span id='tok'>two</span><span id='tok'>Lambdas,</span><span id='tok'>one</span><span id='tok'>with</span><span id='tok'>128MB</span><span id='tok'>of</span><span id='tok'>memory,</span><span id='tok'>the</span><span id='tok'>other</span><span id='tok'>1024MB.</span><span id='tok'></span><span id='tok'>The</span><span id='tok'>tests</span><span id='tok'>are</span><span id='tok'>all</span><span id='tok'>from</span><span id='tok'>Washington,</span><span id='tok'>DC</span><span id='tok'>(near</span><span id='tok'>both</span><span id='tok'>of</span><span id='tok'>our</span><span id='tok'>Lambdas)</span><span class='token pointer' id='tok-121-43' style='color:red'>to eliminate the advantage of</span><span id='tok'>Worker's</span><span id='tok'>global</span><span id='tok'>presence.</span><span id='tok'>The</span><span id='tok'>128MB</span><span id='tok'>instance</span><span id='tok'>has</span><span class='token pointer' id='tok-121-44' style='color:red'>1745ms of 95% percentile</span><span id='tok'>time.</span></p><p id=p916><span id='tok'>When</span><span id='tok'>we</span><span id='tok'>look</span><span id='tok'>at</span><span id='tok'>tests</span><span id='tok'>which</span><span id='tok'>originate</span><span id='tok'>all</span><span id='tok'>around</span><span id='tok'>the</span><span id='tok'>globe,</span><span id='tok'>where</span><span id='tok'>billions</span><span id='tok'>of</span><span class='token pointer' id='tok-121-45' style='color:red'>Internet</span><span id='tok'>users</span><span id='tok'>browse</span><span id='tok'>every</span><span id='tok'>day,</span><span id='tok'>we</span><span id='tok'>get</span><span id='tok'>the</span><span id='tok'>best</span><span id='tok'>example</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>power</span><span id='tok'>of</span><span id='tok'>a</span><span id='tok'>Worker's</span><span id='tok'>deployment</span><span id='tok'>yet:</span></p><p id=p948><span id='tok'>When</span><span id='tok'>we</span><span id='tok'>exclude</span><span id='tok'>the</span><span id='tok'>competitors</span><span id='tok'>from</span><span id='tok'>our</span><span id='tok'>analysis</span><span id='tok'>we</span><span id='tok'>are</span><span id='tok'>able</span><span id='tok'>to</span><span id='tok'>use</span><span id='tok'>the</span><span id='tok'>same</span><span id='tok'>techniques</span><span id='tok'>to</span><span id='tok'>examine</span><span id='tok'>the</span><span id='tok'>performance</span><span id='tok'>of</span><span id='tok'>the</span><span id='tok'>Workers</span><span id='tok'>platform</span><span id='tok'>itself</span><span id='tok'>and</span><span id='tok'>uncover</span><span id='tok'>more</span><span id='tok'>than</span><span id='tok'>a</span><span id='tok'>few</span><span id='tok'>opportunities</span><span id='tok'>for</span><span id='tok'>improvement</span><span id='tok'>and</span><span class='token pointer' id='tok-121-46' style='color:red'>optimization.</span><span id='tok'>That's</span><span id='tok'>what</span><span id='tok'>we're</span><span id='tok'>focused</span><span id='tok'>on:</span><span id='tok'>making</span><span id='tok'>Workers</span><span id='tok'>even</span><span id='tok'>faster,</span><span id='tok'>more</span><span id='tok'>powerful,</span><span id='tok'>and</span><span id='tok'>easier</span><span id='tok'>to</span><span id='tok'>use.
</span></p>